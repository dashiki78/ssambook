extends ../layouts/main

block content
    .container
        h2 #{diary.name}학생의 #{date} 학습일지 수정
        .form-container
            form.form#lesson_newForm_js(action=`/lesson${routes.lessonEdit(diary.id)}`, method="post")
                input(type="text", name="diary_id", value=diary.id, hidden)
                input(type="text", name="student_id", value=diary.student, hidden)
                input(type="text", name="name", value=diary.name, hidden)
                input(type="date", name="date", value=date, hidden)
                .form-group
                    .form-check.form-check-inline
                        label(for="") 정규
                        if (diary.studyType === '정규') 
                            input(type="radio", name="studyType", value="정규", checked)
                        else
                            input(type="radio", name="studyType", value="정규")
                    .form-check.form-check-inline
                        label(for="") 보충
                        if (diary.studyType === '보충') 
                            input(type="radio", name="studyType", value="보충", checked)
                        else
                            input(type="radio", name="studyType", value="보충")
                .form-group
                    .form-check.form-check-inline
                        label(for="") 출석
                        if (diary.attend === '출석')
                            input(type="radio", name="attend", value="출석", checked)
                        else
                            input(type="radio", name="attend", value="출석")
                    .form-check.form-check-inline
                        label(for="") 지각
                        if (diary.attend === '지각')
                            input(type="radio", name="attend", value="지각", checked)
                        else
                            input(type="radio", name="attend", value="지각")
                    .form-check.form-check-inline
                        label(for="") 결석
                        if (diary.attend === '결석')
                            input(type="radio", name="attend", value="결석", checked)
                        else
                            input(type="radio", name="attend", value="결석")
                fieldset.homework
                    legend 숙제
                    .form-group.row.homework__fulfillment
                        label.col-sm-2(for="") 이행 :
                        .col-sm-10
                            .form-check.form-check-inline
                                label(for="") 우수
                                if (diary.homework.fulfillment === '우수')
                                    input(type="radio", name="fulfillment", value="우수", checked)
                                else
                                    input(type="radio", name="fulfillment", value="우수")
                            .form-check.form-check-inline
                                label(for="") 양호
                                if (diary.homework.fulfillment === '양호')
                                    input(type="radio", name="fulfillment", value="양호", checked)
                                else
                                    input(type="radio", name="fulfillment", value="양호")
                            .form-check.form-check-inline
                                label(for="") 보통
                                if (diary.homework.fulfillment === '보통')
                                    input(type="radio", name="fulfillment", value="보통", checked)
                                else
                                    input(type="radio", name="fulfillment", value="보통")
                            .form-check.form-check-inline
                                label(for="") 불량
                                if (diary.homework.fulfillment === '불량')
                                    input(type="radio", name="fulfillment", value="불량", checked)
                                else
                                    input(type="radio", name="fulfillment", value="불량")
                            .form-check.form-check-inline
                                label(for="") 없음
                                if (diary.homework.fulfillment === '없음')
                                    input(type="radio", name="fulfillment", value="없음", checked)
                                else
                                    input(type="radio", name="fulfillment", value="없음")
                    .form-group.row.homework__faithfulness
                        label.col-sm-2(for="") 충실도 :
                        input.col-sm-5.homework__faithfulness-number#faithfulness-number_js(type="number", max="100", min="0", name="faithfulness", value=diary.homework.faithfulness)
                    .form-group.row
                        label.col-sm-2(for="") 완성도 :
                        input.col-sm-5(type="number", max="100", min="0", name="homework_completeLevel", value=diary.homework.completeLevel)
                fieldset
                    legend 학습
                    .form-group.row
                        label(for="") 학습단원 :
                        input(type="textarea", name="unit", value=diary.study.unit)
                        button#select_unit_js 선택
                    .form-grop.row
                        label.col-sm-2(for="") 학습량 :
                        input.col-sm-5(type="number", max="100", min="0", name="volume", value=diary.study.volume)
                    .form-grop.row
                        label.col-sm-2(for="") 완성도 :
                        input.col-sm-5(type="number", max="100", min="0", name="study_completeLevel", value=diary.study.completeLevel)
                .exit-test
                    each val, index in diary.test
                        .form-group.row
                            label(for="") 테스트이름 :
                            input(type="input", name="test_title", value=val.title)
                        .form-grop.row
                            label(for="") 테스트점수 :
                            input(type="number", max="100", min="0", name="test_score", value=val.score)
                        .form-grop.row
                            label(for="") 테스트비고 :
                            textarea(name="test_note", cols="50", rows="5")=val.note
                button#test_insert_js 테스트추가
                .test
                .form-group.row
                    label(for="") 비고 :
                    textarea(name="note", cols="70", rows="10")=diary.note
                input(type="submit", value="저장")